<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MCP 클라이언트 애플리케이션 기능명세서</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            max-width: 1000px;
            margin: 0 auto;
            padding: 20px;
        }
        h1 {
            color: #2c3e50;
            border-bottom: 2px solid #3498db;
            padding-bottom: 10px;
        }
        h2 {
            color: #2980b9;
            margin-top: 30px;
        }
        h3 {
            color: #3498db;
            margin-top: 20px;
        }
        ul, ol {
            padding-left: 25px;
        }
        li {
            margin-bottom: 5px;
        }
        section {
            margin-bottom: 30px;
        }
        .header {
            text-align: center;
            margin-bottom: 50px;
        }
        .toc {
            background-color: #f8f9fa;
            padding: 20px;
            border-radius: 5px;
            margin-bottom: 30px;
        }
        .toc h2 {
            margin-top: 0;
        }
        code {
            background-color: #f0f0f0;
            padding: 2px 4px;
            border-radius: 3px;
            font-family: Consolas, Monaco, 'Andale Mono', monospace;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
        }
        table, th, td {
            border: 1px solid #ddd;
        }
        th {
            background-color: #f2f2f2;
            text-align: left;
            padding: 8px;
        }
        td {
            padding: 8px;
        }
        tr:nth-child(even) {
            background-color: #f9f9f9;
        }
        .high-priority {
            background-color: #e6f7ff;
        }
        .medium-priority {
            background-color: #f6ffed;
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>MCP 클라이언트 애플리케이션 기능명세서</h1>
        <p>Model Context Protocol 클라이언트 - Electron 기반 데스크톱 애플리케이션</p>
    </div>

    <div class="toc">
        <h2>목차</h2>
        <ol>
            <li><a href="#overview">개요</a></li>
            <li><a href="#core-features">핵심 기능</a></li>
            <li><a href="#feature-list">상세 기능 목록 및 개발 계획</a></li>
            <li><a href="#tech-specs">기술 스펙</a></li>
            <li><a href="#ui">사용자 인터페이스</a></li>
            <li><a href="#event-flow">이벤트 흐름</a></li>
            <li><a href="#error-handling">오류 처리</a></li>
            <li><a href="#performance">성능 요구사항</a></li>
            <li><a href="#security">보안 요구사항</a></li>
        </ol>
    </div>    <section id="overview">
        <h2>1. 개요</h2>
        <p>MCP 클라이언트는 Model Context Protocol을 활용하여 Anthropic의 Claude API와 통신하는 Electron 기반 데스크톱 애플리케이션입니다. 이 애플리케이션은 여러 MCP 서버에 동시에 연결하여 Claude의 기능을 확장하고, 사용자가 자연어로 서버 도구들을 활용할 수 있는 통합 인터페이스를 제공합니다.</p>
    </section>

    <section id="core-features">
        <h2>2. 핵심 기능</h2>
        
        <h3>2.1 MCP 서버 연결 관리</h3>
        <ul>
            <li>다중 MCP 서버 동시 연결 지원</li>
            <li>서버 연결 상태 모니터링 및 시각적 피드백</li>
            <li>연결된 서버의 도구(tools) 목록 자동 수집</li>
            <li>서버별 별칭 부여 및 관리</li>
        </ul>

        <h3>2.2 Claude API 통합</h3>
        <ul>
            <li>Claude API를 통한 자연어 쿼리 처리</li>
            <li>사용자 메시지를 Claude에 전송하고 응답 수신</li>
            <li>Claude의 도구 호출 요청 처리 및 결과 반환</li>
            <li>대화 컨텍스트 유지 및 관리</li>
        </ul>

        <h3>2.3 채팅 인터페이스</h3>
        <ul>
            <li>사용자와 AI 간 대화형 채팅 UI</li>
            <li>메시지 입력 및 전송 기능</li>
            <li>채팅 기록 표시 및 스크롤 관리</li>
            <li>입력 중 상태 표시</li>
        </ul>

        <h3>2.4 알림 시스템</h3>
        <ul>
            <li>다양한 유형의 토스트 알림 표시</li>
            <li>성공, 오류 등 상태별 알림 스타일</li>
            <li>자동 소멸 타이머 지원</li>
            <li>알림 스택 관리 및 위치 조정</li>
        </ul>

        <h3>2.5 설정 관리</h3>
        <ul>
            <li>API 키 설정 및 관리</li>
            <li>서버 URL 목록 관리</li>
            <li>설정 저장 및 로드</li>
            <li>설정 인터페이스 제공</li>
        </ul>
    </section>

    <section id="feature-list">
        <h2>3. 상세 기능 목록 및 개발 계획</h2>
        <p>아래 표는 현재 구현된 기능과 향후 개발될 기능을 포함한 상세 기능 목록입니다.</p>
        
        <table>
            <thead>
                <tr>
                    <th>기능 ID</th>
                    <th>기능 분류</th>
                    <th>기능명</th>
                    <th>설명</th>
                    <th>우선순위</th>
                    <th>비고</th>
                </tr>
            </thead>
            <tbody>
                <tr class="high-priority">
                    <td>F001</td>
                    <td>핵심 기능</td>
                    <td>AI 대화 인터페이스</td>
                    <td>사용자가 LLM과 자연어로 대화할 수 있는 GUI 제공</td>
                    <td>높음</td>
                    <td>Claude LLM 우선 사용, 추후 Ollama로 전환 예정</td>
                </tr>
                <tr class="high-priority">
                    <td>F002</td>
                    <td>핵심 기능</td>
                    <td>LLM 연결 설정</td>
                    <td>Claude API 키 등 LLM 연결 정보 설정 및 관리</td>
                    <td>높음</td>
                    <td>연결 정보 없이는 프로그램 사용 불가</td>
                </tr>
                <tr class="high-priority">
                    <td>F003</td>
                    <td>MCP 서버</td>
                    <td>로컬 MCP 서버 설치 및 실행</td>
                    <td>각 컴퓨터에 로컬 MCP 서버 설치 및 관리</td>
                    <td>높음</td>
                    <td>Electron 애플리케이션에 내장</td>
                </tr>
                <tr class="high-priority">
                    <td>F004</td>
                    <td>MCP 서버</td>
                    <td>원격 MCP 서버 연결</td>
                    <td>상대방 MCP 서버 주소를 추가하여 연결</td>
                    <td>높음</td>
                    <td>사용자 인증 대신 서버 주소 기반 연결</td>
                </tr>                <tr class="medium-priority">
                    <td>F005</td>
                    <td>MCP 서버</td>
                    <td>서버 연결 상태 모니터링</td>
                    <td>등록된 서버 수 및 성공/실패 연결 상태 표시</td>
                    <td>중간</td>
                    <td>대시보드 형태로 표시</td>
                </tr>
                <tr class="high-priority">
                    <td>F006</td>
                    <td>파일 관리</td>
                    <td>원격 파일 목록 조회</td>
                    <td>연결된 원격 컴퓨터의 특정 폴더 내 파일 목록 조회</td>
                    <td>높음</td>
                    <td></td>
                </tr>
                <tr class="high-priority">
                    <td>F007</td>
                    <td>파일 관리</td>
                    <td>원격 파일 생성 및 작성</td>
                    <td>연결된 원격 컴퓨터에 파일 생성 및 내용 작성</td>
                    <td>높음</td>
                    <td></td>
                </tr>
                <tr class="high-priority">
                    <td>F008</td>
                    <td>파일 관리</td>
                    <td>컴퓨터 간 파일 전송</td>
                    <td>컴퓨터 A에서 B로 또는 B에서 A로 파일 전송</td>
                    <td>높음</td>
                    <td>양방향 지원</td>
                </tr>
                <tr class="medium-priority">
                    <td>F009</td>
                    <td>설정 관리</td>
                    <td>설정 파일 자동 감지 및 재로드</td>
                    <td>로컬 설정 파일 변경 감지 시 자동으로 프로그램 재초기화</td>
                    <td>중간</td>
                    <td>프로그램 재시작 없이 적용</td>
                </tr>
                <tr class="high-priority">
                    <td>F010</td>
                    <td>네트워크</td>
                    <td>로컬 네트워크 연결 지원</td>
                    <td>같은 네트워크 상의 컴퓨터 간 연결 지원</td>
                    <td>높음</td>
                    <td></td>
                </tr>
                <tr class="medium-priority">
                    <td>F011</td>
                    <td>네트워크</td>
                    <td>인터넷 연결 지원</td>
                    <td>외부 IP를 통한 인터넷 어디서나 접속 지원</td>
                    <td>중간</td>
                    <td></td>
                </tr>
                <tr class="medium-priority">
                    <td>F012</td>
                    <td>오류 처리</td>
                    <td>오류 발생 알림</td>
                    <td>프로그램 오류 발생 시 사용자에게 알림 제공</td>
                    <td>중간</td>
                    <td></td>
                </tr>
                <tr class="high-priority">
                    <td>F013</td>
                    <td>사용자 경험</td>
                    <td>LLM 독립 실행</td>
                    <td>연결된 MCP 서버가 없어도 LLM과 대화 가능</td>
                    <td>높음</td>
                    <td>기본 대화 기능</td>
                </tr>
            </tbody>
        </table>
    </section>

    <section id="tech-specs">
        <h2>4. 기술 스펙</h2>
        
        <h3>4.1 개발 환경</h3>
        <ul>
            <li>언어: TypeScript</li>
            <li>프레임워크: Electron</li>
            <li>빌드 도구: Vite</li>
            <li>모듈 시스템: ES Modules</li>
        </ul>

        <h3>4.2 아키텍처</h3>
        <ul>
            <li>메인 프로세스: Electron 창 관리, IPC 핸들러</li>
            <li>렌더러 프로세스: UI 렌더링, 사용자 인터랙션</li>
            <li>IPC 채널: 프로세스 간 통신</li>
            <li>싱글톤 패턴: 주요 서비스 클래스 관리</li>
        </ul>        <h3>4.3 API 통합</h3>
        <ul>
            <li>Anthropic Claude API 사용</li>
            <li>Model Context Protocol 클라이언트 구현</li>
            <li>서버 인증 및 연결 관리</li>
            <li>도구 호출 프로토콜 지원</li>
        </ul>

        <h3>4.4 UI 컴포넌트</h3>
        <ul>
            <li>채팅 버블 UI</li>
            <li>토스트 알림 시스템</li>
            <li>설정 인터페이스</li>
            <li>상태 표시 요소</li>
        </ul>
    </section>

    <section id="ui">
        <h2>5. 사용자 인터페이스</h2>
        
        <h3>5.1 메인 채팅 화면</h3>
        <ul>
            <li>채팅 기록 표시 영역</li>
            <li>메시지 입력 필드</li>
            <li>전송 버튼</li>
            <li>설정 접근 버튼</li>
        </ul>

        <h3>5.2 토스트 알림</h3>
        <ul>
            <li>우측 하단 표시</li>
            <li>성공(녹색), 오류(빨간색) 상태 표시</li>
            <li>자동 소멸 애니메이션</li>
            <li>스택형 다중 알림 지원</li>
        </ul>

        <h3>5.3 설정 화면</h3>
        <ul>
            <li>API 키 입력 필드</li>
            <li>서버 URL 관리 인터페이스</li>
            <li>저장 및 취소 버튼</li>
            <li>연결 테스트 기능</li>
        </ul>
    </section>

    <section id="event-flow">
        <h2>6. 이벤트 흐름</h2>
        
        <h3>6.1 애플리케이션 시작</h3>
        <ol>
            <li>Electron 창 생성</li>
            <li>IPC 핸들러 등록</li>
            <li>저장된 설정 로드</li>
            <li>MCP 클라이언트 초기화</li>
            <li>서버 연결 시도 및 상태 알림</li>
        </ol>

        <h3>6.2 사용자 쿼리 처리</h3>
        <ol>
            <li>사용자 메시지 입력 및 전송</li>
            <li>채팅 UI에 사용자 메시지 표시</li>
            <li>Claude API로 메시지 전송</li>
            <li>Claude 응답 처리
                <ul>
                    <li>텍스트 응답: 채팅 UI에 표시</li>
                    <li>도구 호출 요청: 적절한 서버로 라우팅</li>
                </ul>
            </li>
            <li>도구 호출 결과를 Claude에 전송</li>
            <li>최종 응답을 채팅 UI에 표시</li>
        </ol>        <h3>6.3 서버 연결 관리</h3>
        <ol>
            <li>연결 시도 알림 표시</li>
            <li>각 서버에 연결 시도</li>
            <li>연결 결과에 따른 상태 알림</li>
            <li>도구 목록 수집 및 병합</li>
            <li>UI 상태 업데이트</li>
        </ol>
    </section>

    <section id="error-handling">
        <h2>7. 오류 처리</h2>
        
        <h3>7.1 연결 오류</h3>
        <ul>
            <li>서버 연결 실패 알림</li>
            <li>재연결 메커니즘</li>
            <li>API 키 유효성 검증</li>
        </ul>

        <h3>7.2 쿼리 오류</h3>
        <ul>
            <li>Claude API 오류 처리</li>
            <li>도구 호출 실패 처리</li>
            <li>오류 메시지 사용자 표시</li>
        </ul>

        <h3>7.3 UI 오류</h3>
        <ul>
            <li>입력 유효성 검증</li>
            <li>비동기 작업 상태 관리</li>
            <li>토스트 알림 관리</li>
        </ul>
    </section>

    <section id="performance">
        <h2>8. 성능 요구사항</h2>
        <ul>
            <li>빠른 애플리케이션 시작 시간</li>
            <li>최소 메모리 사용량</li>
            <li>원활한 UI 애니메이션 및 상호작용</li>
            <li>비동기 작업의 효율적인 관리</li>
        </ul>
    </section>

    <section id="security">
        <h2>9. 보안 요구사항</h2>
        <ul>
            <li>API 키 안전한 저장</li>
            <li>IPC 통신의 contextIsolation 보장</li>
            <li>웹 보안 모범 사례 준수</li>
            <li>에러 로깅 시 민감 정보 제외</li>
        </ul>
    </section>

    <footer>
        <p>이 기능명세서는 현재 구현된 기능과 향후 개발 계획을 포함하고 있습니다. 실제 구현 세부사항은 코드 검토를 통해 추가로 확인할 수 있습니다.</p>
        <p>마지막 업데이트: <time datetime="2025-05-21">2025년 5월 21일</time></p>
    </footer>
</body>
</html>